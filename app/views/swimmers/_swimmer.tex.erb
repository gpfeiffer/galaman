\begin{minipage}{.5\textwidth}
\subsection*{<%= raw swimmer.name %> (<%= swimmer.club.symbol %>)}
<%= swimmer.birthday %> (<%= swimmer.gender.upcase %>). Swim Ireland ID: <%= swimmer.number %>.

\begin{tabular}{|r|<%= 'p{1.1cm}|'*Discipline::STROKES.count %>}
\toprule
<% Discipline::STROKES.each do |stroke| %>
&  \textbf{<%= { 'Freestyle' => 'Free', 'Backstroke' => 'Back', 'Breaststroke' => 'Breast', 'Butterfly' => 'Fly', 'Ind Medley' => 'Medley' }[stroke] %>}
<% end %>
<% swimmer.entries.group_by(&:distance_course_code).sort.each do |row, entries_row| %>
  <% entries = entries_row.group_by(&:stroke) %>
\\\midrule
    \textbf{<%= distance_course(row) %>}
    <% Discipline::STROKES.each do |stroke| %>
&
        <% if entries[stroke] %>
          <% best = best_result(entries[stroke].map(&:result).compact) %>
	  <% if best %>
            {\hfill <%= best %>\newline\mbox{}\hfill{\scriptsize <%= best.date.strftime("%d/%m/%y") %>}}
          <% end %>
        <% end %>
    <% end %>
<% end %>
\\\bottomrule
\end{tabular}
\end{minipage}
\medskip
\vfill
